<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¯ãƒ©ã‚¹é€£çµ¡ï¼‹ãŠã¿ãã˜ï¼‹åè¨€ï¼‹ã‚²ãƒ¼ãƒ ï¼‹å†™çœŸæŠ•ç¨¿</title>
<style>
body {
  box-sizing: border-box;
  font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
  margin: 0;
  padding: 20px;
  background-color: #f3fff8;
  min-height: 100vh;
  color: #333;
}
.container {
  max-width: 900px;
  margin: 0 auto;
  background: white;
  border-radius: 20px;
  box-shadow: 0 6px 25px rgba(0,0,0,0.1);
  overflow: hidden;
}
.header {
  background-color: #ffd6e0; /* ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ”ãƒ³ã‚¯ */
  color: #444;
  padding: 30px 20px;
  text-align: center;
}
.header h1 {
  margin: 0;
  font-size: 26px;
  font-weight: 700;
}
.header .bible-text {
  margin-top: 8px;
  color: #555;
  font-size: 16px;
}
.main-content {
  display: flex;
  flex-wrap: wrap;
}

/* æ—¥ä»˜ï¼‹ãŠã¿ãã˜ãƒœã‚¿ãƒ³ã‚’ã¾ã¨ã‚ã‚‹ */
.date-buttons {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1;
  min-width: 260px;
  border-right: 2px solid #eaeaea;
}

/* æ¨ªä¸¦ã³ã§å‡ç­‰å¹… */
.button-row {
  display: flex;
  gap: 8px;
}
button {
  border: none;
  border-radius: 12px;
  padding: 14px 0;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.25s ease;
  flex: 1;               /* æ¨ªå¹…å‡ç­‰ */
  text-align: center;    /* æ–‡å­—ä¸­å¤®å¯„ã› */
}

/* ğŸ‹ ãŠã¿ãã˜ãƒœã‚¿ãƒ³ï¼ˆãƒ‘ã‚¹ãƒ†ãƒ«ã‚¤ã‚¨ãƒ­ãƒ¼ï¼‰ */
.omikuji-button {
  background-color: #fff9b1;
  color: #333;
  box-shadow: 0 4px 10px rgba(255, 249, 177, 0.4);
}
.omikuji-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(255, 249, 177, 0.5);
}

/* ğŸ©µ æ—¥ä»˜ãƒœã‚¿ãƒ³ */
.date-button {
  background-color: #cce5ff;
  color: #333;
  box-shadow: 0 3px 10px rgba(204, 229, 255, 0.4);
}
.date-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(204, 229, 255, 0.5);
}

/* ğŸ§ ãŠã¿ãã˜çµæœ */
.omikuji-result {
  margin-top: 8px;
  padding: 12px;
  background-color: #fff8dc;
  border-left: 4px solid #ffd580;
  border-radius: 8px;
  font-size: 14px;
  text-align: center;
  display: none;
}

/* ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« */
.schedule-display {
  flex: 1;
  margin: 20px;
  padding: 20px;
  background-color: #ede7f6;
  border-radius: 15px;
  border-left: 5px solid #b39ddb;
  display: none;
}
.schedule-display.show { display: block; }
.schedule-date {
  font-size: 18px;
  font-weight: 700;
  color: #5e35b1;
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 2px dashed #d1c4e9;
}
.schedule-content {
  font-size: 15px;
  line-height: 1.6;
  color: #444;
}
.change-item {
  margin: 8px 0;
  padding: 8px 12px;
  background: white;
  border-radius: 8px;
  border-left: 3px solid #ffb6b9;
}

/* ğŸ“ ä»Šæ—¥ã®åè¨€ */
.quote-box {
  margin: 25px auto;
  background-color: #fff9e6;
  border-left: 4px solid #ffda79;
  border-radius: 10px;
  padding: 15px 20px;
  font-size: 15px;
  text-align: center;
  max-width: 90%;
}

/* âš¡ åå°„ç¥çµŒã‚²ãƒ¼ãƒ  */
.reaction-box {
  margin: 25px auto;
  text-align: center;
}
.reaction-screen {
  width: 200px;
  height: 200px;
  background-color: #d1f7ff;
  border-radius: 50%;
  margin: 15px auto;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 600;
  color: #333;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

/* ğŸ“· å†™çœŸæŠ•ç¨¿æ¬„ */
.photo-section {
  margin: 30px auto;
  text-align: center;
}
.photo-gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  margin-top: 15px;
}
.photo-gallery img {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
@media (max-width: 700px) {
  .main-content {
    flex-direction: column;
  }
  .date-buttons {
    border-right: none;
    border-bottom: 2px solid #eaeaea;
  }
}
</style>
</head>
<body>
<main class="container">
  <header class="header">
    <h1>11æœˆ11æ—¥ï¼ˆç«ï¼‰</h1>
    <div class="bible-text">Peace Truth LOVE</div>
  </header>

  <div class="main-content">
    <section class="date-buttons">
      <div class="button-row">
        <button id="omikujiBtn" class="omikuji-button" onclick="drawOmikuji()">ãŠã¿ãã˜</button>
      </div>
      <div id="omikujiResult" class="omikuji-result"></div>

      <div class="button-row">
        <button class="date-button" onclick="showSchedule('today')">æœ¬æ—¥</button>
        <button class="date-button" onclick="showSchedule('tomorrow')">æ˜æ—¥</button>
        <button class="date-button" onclick="showSchedule('following')">æ˜å¾Œæ—¥</button>
      </div>
    </section>

    <div id="scheduleDisplay" class="schedule-display">
      <div id="scheduleDate" class="schedule-date"></div>
      <div id="scheduleContent" class="schedule-content"></div>
    </div>
  </div>

  <section class="quote-box" id="quoteBox"></section>

  <section class="reaction-box">
    <h3>âš¡ åå°„ç¥çµŒãƒãƒ£ãƒ¬ãƒ³ã‚¸</h3>
    <div id="reactionScreen" class="reaction-screen">ã‚¹ã‚¿ãƒ¼ãƒˆ</div>
    <div id="reactionResult"></div>
  </section>

  <section class="photo-section">
    <h3>ğŸ“¸ ä»Šæ—¥ã®ä¸€æš</h3>
    <input type="file" accept="image/*" id="photoInput">
    <div class="photo-gallery" id="photoGallery"></div>
  </section>

</main>

<script>
/* ========== ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é–¢é€£ ========== */
const scheduleData = {
  'today': { date: '11æœˆ11æ—¥(ç«)', content: '<div class="change-item">æ¥é€±ã®ä»Šæ—¥ã‹ã‚‰å¾ŒæœŸä¸­é–“è©¦é¨“ã§ã™</div><div class="change-item">7é™ï¼šæ•°å­¦è¬›ç¿’</div>' },
  'tomorrow': { date: '11æœˆ12æ—¥(æ°´)', content: '<div class="change-item">3é™ï¼šä½“è‚²</div>' },
  'following': { date: '11æœˆ13æ—¥(æœ¨)', content: '<div class="change-item">çœŒæ°‘ã®æ—¥</div>' }
};
function showSchedule(key) {
  const d = document.getElementById('scheduleDisplay');
  document.getElementById('scheduleDate').textContent = scheduleData[key].date;
  document.getElementById('scheduleContent').innerHTML = scheduleData[key].content;
  d.classList.add('show');
}

/* ========== ãŠã¿ãã˜é–¢é€£ï¼ˆåŠ¹æœéŸ³ãƒ»1æ—¥2å›åˆ¶é™ï¼‰ ========== */
const omikujiResults = [
  {name: 'å‡¶', text: 'æ°´é‰„ç ²ã§æ’ƒãŸã‚Œã‚‹'},
  {name: 'å‰', text: 'éš•çŸ³ã«æ³¨æ„'},
  {name: 'æœ«å‰', text: 'å¸¸åŒ—ãƒ•ã‚¡ãƒ¼ãƒ ã§æ„›ã®ã•ã•ã‚„ã'},
  {name: 'å°å‰', text: 'è„³ç­‹å¤§çˆ†ç™ºï¼'},
  {name: 'ä¸­å‰', text: 'è„³ã¿ãçµ¶å¯¾é›¶åº¦'},
  {name: 'å¤§å‰', text: 'ç…§æ²¼ã¨ç¨ã‚ã£ã“'}
];
const omikujiAudio = new Audio('https://www.soundjay.com/button/sounds/button-16.mp3');

function drawOmikuji() {
  const today = new Date().toLocaleDateString();
  let omikujiCount = parseInt(localStorage.getItem('omikujiCountDate') || '0', 10);
  let lastDate = localStorage.getItem('omikujiDate') || '';

  if(lastDate !== today){
    omikujiCount = 0; // æ—¥ä»˜ãŒå¤‰ã‚ã‚Œã°ãƒªã‚»ãƒƒãƒˆ
  }

  if(omikujiCount >= 2){
    alert('ä»Šæ—¥ã®ãŠã¿ãã˜ã¯2å›ã¾ã§ã§ã™');
    return;
  }

  localStorage.setItem('omikujiDate', today);
  localStorage.setItem('omikujiCountDate', omikujiCount + 1);

  omikujiAudio.currentTime = 0;
  omikujiAudio.play();

  const resultBox = document.getElementById('omikujiResult');
  const result = omikujiResults[Math.floor(Math.random() * omikujiResults.length)];
  resultBox.style.display = 'block';
  resultBox.innerHTML = `ä»Šæ—¥ã®é‹å‹¢ï¼š<strong>${result.name}</strong><br>${result.text}`;
}

/* ========== ä»Šæ—¥ã®åè¨€ ========== */
const quotes = [
  '"The future starts today, not tomorrow." â€“ John Paul II',
  '"å¤±æ•—ã¯æˆåŠŸã®æ¯ã§ã‚ã‚‹" â€“ æ—¥æœ¬ã®ã“ã¨ã‚ã–',
  '"Do what you can, with what you have, where you are." â€“ Theodore Roosevelt',
  '"ç¶™ç¶šã¯åŠ›ãªã‚Š" â€“ Japanese proverb',
  '"Believe you can and youâ€™re halfway there." â€“ Roosevelt'
];
document.getElementById('quoteBox').textContent = quotes[Math.floor(Math.random()*quotes.length)];

/* ========== åå°„ç¥çµŒã‚²ãƒ¼ãƒ  ========== */
let waiting = false, startTime;
const screen = document.getElementById('reactionScreen');
const resultDiv = document.getElementById('reactionResult');

screen.addEventListener('click', () => {
  if (!waiting && screen.textContent === 'ã‚¹ã‚¿ãƒ¼ãƒˆ') {
    screen.textContent = 'æº–å‚™ä¸­â€¦';
    screen.style.backgroundColor = '#ffd6e0';
    waiting = true;
    setTimeout(() => {
      screen.textContent = 'ä»Šï¼';
      screen.style.backgroundColor = '#b3ffd6';
      startTime = new Date();
    }, Math.random() * 2000 + 1000);
  } else if (waiting && screen.textContent === 'ä»Šï¼') {
    const time = new Date() - startTime;
    resultDiv.textContent = `åå¿œæ™‚é–“ï¼š${time} ms`;
    screen.textContent = 'ã‚¹ã‚¿ãƒ¼ãƒˆ';
    screen.style.backgroundColor = '#d1f7ff';
    waiting = false;
  } else if (waiting) {
    resultDiv.textContent = 'æ—©ã™ãï¼ğŸ’¦';
    screen.textContent = 'ã‚¹ã‚¿ãƒ¼ãƒˆ';
    screen.style.backgroundColor = '#d1f7ff';
    waiting = false;
  }
});

/* ========== å†™çœŸæŠ•ç¨¿æ¬„ ========== */
const input = document.getElementById('photoInput');
const gallery = document.getElementById('photoGallery');
input.addEventListener('change', (e) => {
  const files = e.target.files;
  for (const file of files) {
    const reader = new FileReader();
    reader.onload = (event) => {
      const img = document.createElement('img');
      img.src = event.target.result;
      gallery.appendChild(img);
    };
    reader.readAsDataURL(file);
  }
});
</script>
</body>
</html>
